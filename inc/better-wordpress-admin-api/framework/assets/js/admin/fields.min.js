window.jQuery(function(e){var t=window.wp;e(".code-editor").each(function(){var t=e(this),a="code-editor-",i=t.data(a+"for"),o=t.data(a+"lang"),n=t.data(a+"theme"),d=(t.data(a+"font-size"),t.data(a+"tab-size")),s=!!t.data(a+"soft-tab"),l=!!t.data(a+"read-only"),r=!!t.data(a+"show-print-margin"),c=null,u=document.getElementById(i);u.style.display="none",(c=window.ace.edit(this)).setReadOnly(l),c.session.setMode("ace/mode/"+o),c.setTheme("ace/theme/"+n),c.getSession().setTabSize(d),c.getSession().setUseSoftTabs(s),c.setShowPrintMargin(r),c.getSession().setUseWrapMode(!0),c.$blockScrolling=1/0,c.getSession().on("change",function(e){u.value=c.getValue()}),c.setValue(u.value),c.gotoLine(0),e(document.body).trigger("better-wp-admin-api-code-editor-loaded",[c])});var a=e(".field-color");a.length>0&&a.hide().wpColorPicker().show();var i=!1;e(".image_data_field").each(function(){var a=e(this),o=a.parent(),n=o.find(".image_delete_button"),d=o.find(".image_upload_button"),s=o.find(".image_preview");""===a.val()&&(s.hide(),n.hide()),i?i.open():(d.on("click",function(){(i=t.media.frames.file_frame=t.media({title:e(this).data("uploader_title"),button:{text:e(this).data("uploader_button_text")},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();a.val(e.id),s.show(),n.show(),s.attr("src",e.sizes.thumbnail.url),i=!1}),i.open()}),n.on("click",function(){return a.val(""),s.attr("src","").hide(),n.hide(),!1}))})});